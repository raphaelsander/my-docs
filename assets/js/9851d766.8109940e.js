"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[8001],{6821:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var t=n(4848),a=n(8453);const r={id:"python2-to-3",title:"python2-to-3"},s=void 0,i={id:"python/python2-to-3",title:"python2-to-3",description:"Sabemos que v\xe1rios scripts e exploits, principalmente para explora\xe7\xe3o de",source:"@site/docs/python/python2_to_3.mdx",sourceDirName:"python",slug:"/python/python2-to-3",permalink:"/my-docs/docs/python/python2-to-3",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"python2-to-3",title:"python2-to-3"},sidebar:"tutorialSidebar",previous:{title:"proxy",permalink:"/my-docs/docs/python/proxy"},next:{title:"Windows",permalink:"/my-docs/docs/category/windows"}},d={},c=[{value:"Uso B\xe1sico",id:"uso-b\xe1sico",level:2},{value:"Convertendo e Salvando",id:"convertendo-e-salvando",level:2},{value:"2to3 Ser\xe1 Deprecado",id:"2to3-ser\xe1-deprecado",level:2},{value:"Convers\xe3o Manual",id:"convers\xe3o-manual",level:2},{value:"Refer\xeancias",id:"refer\xeancias",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.p,{children:["Sabemos que v\xe1rios scripts e exploits, principalmente para explora\xe7\xe3o de\nvulnerabilidades mais antigas podem estar escritos em Python 2, por\xe9m se torna\ncada vez mais dif\xedcil a execu\xe7\xe3o desses c\xf3digos legados. Uma das alternativas\nal\xe9m da utiliza\xe7\xe3o do c\xf3digo legado em um container utilizando Python 2.x pode\nser a convers\xe3o autom\xe1tica que pode funcionar na maiorias dos casos utilizando a\nbiblioteca ",(0,t.jsx)(o.code,{children:"2to3"}),"."]}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"uso-b\xe1sico",children:"Uso B\xe1sico"}),"\n",(0,t.jsx)(o.p,{children:"Aqui temos um exemplo de arquivo fonte Python 2.x, example.py:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",metastring:'title="example.py"',children:'def greet(name):\n    print "Hello, {0}!".format(name)\nprint "What\'s your name?"\nname = raw_input()\ngreet(name)\n'})}),"\n",(0,t.jsxs)(o.p,{children:["O mesmo pode ser convertido para c\xf3digo Python 3.x atrav\xe9s de ",(0,t.jsx)(o.code,{children:"2to3"})," atrav\xe9s da\nlinha de comando:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"2to3 example.py\n"})}),"\n",(0,t.jsx)(o.admonition,{type:"info",children:(0,t.jsx)(o.p,{children:"\xc9 impresso um diff contra o arquivo original."})}),"\n",(0,t.jsx)(o.h2,{id:"convertendo-e-salvando",children:"Convertendo e Salvando"}),"\n",(0,t.jsxs)(o.p,{children:["O 2to3 tamb\xe9m pode escrever as modifica\xe7\xf5es necess\xe1rias de volta ao arquivo de\norigem. Um backup do arquivo original sempre ser\xe1 feito, salvo se a op\xe7\xe3o: ",(0,t.jsx)(o.code,{children:"-n"}),"\nfor utilizada. Escrever as altera\xe7\xf5es de volta est\xe1 dispon\xedvel com o uso do\nsinalizador ",(0,t.jsx)(o.code,{children:"-w"}),":"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"2to3 -w example.py\n"})}),"\n",(0,t.jsxs)(o.admonition,{type:"info",children:[(0,t.jsx)(o.p,{children:"Ap\xf3s a transforma\xe7\xe3o, o arquivo example.py se parecer\xe1 com isso:"}),(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",metastring:'title="example.py"',children:'def greet(name):\n    print("Hello, {0}!".format(name))\nprint("What\'s your name?")\nname = input()\ngreet(name)\n'})})]}),"\n",(0,t.jsx)(o.h2,{id:"2to3-ser\xe1-deprecado",children:"2to3 Ser\xe1 Deprecado"}),"\n",(0,t.jsx)(o.p,{children:"O m\xf3dulo lib2to3 foi marcado como pendente para descontinua\xe7\xe3o no Python 3.9\n(levantando PendingDeprecationWarning na importa\xe7\xe3o) e totalmente descontinuado\nno Python 3.11 (levantando DeprecationWarning). A ferramenta 2to3 faz parte\ndisso. Ele ser\xe1 removido no Python 3.13."}),"\n",(0,t.jsx)(o.h2,{id:"convers\xe3o-manual",children:"Convers\xe3o Manual"}),"\n",(0,t.jsx)(o.p,{children:"Em alguns casos o 2to3 n\xe3o \xe9 sufiente, sendo necess\xe1rio a convers\xe3o do script\nPython 2.x manualmente para a vers\xe3o Python 3.x, nesse caso recorra \xe0\ndocumenta\xe7\xe3o oficial:"}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.a,{href:"https://docs.python.org/3.8/howto/pyporting.html",children:"https://docs.python.org/3.8/howto/pyporting.html"})}),"\n",(0,t.jsx)(o.h2,{id:"refer\xeancias",children:"Refer\xeancias"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:(0,t.jsx)(o.a,{href:"https://docs.python.org/pt-br/3/library/2to3.html",children:"https://docs.python.org/pt-br/3/library/2to3.html"})}),"\n",(0,t.jsx)(o.li,{children:(0,t.jsx)(o.a,{href:"https://docs.python.org/3.8/howto/pyporting.html",children:"https://docs.python.org/3.8/howto/pyporting.html"})}),"\n"]})]})}function p(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>i});var t=n(6540);const a={},r=t.createContext(a);function s(e){const o=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(r.Provider,{value:o},e.children)}}}]);