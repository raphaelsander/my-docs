"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[4860],{5196:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>p,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"python/proxy","title":"proxy","description":"Abaixo um exemplo de uso de proxy no Python.","source":"@site/docs/python/proxy.mdx","sourceDirName":"python","slug":"/python/proxy","permalink":"/my-docs/docs/python/proxy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"proxy","title":"proxy"},"sidebar":"tutorialSidebar","previous":{"title":"big-file-resume","permalink":"/my-docs/docs/python/big-file-resume"},"next":{"title":"python2-to-3","permalink":"/my-docs/docs/python/python2-to-3"}}');var o=r(4848),s=r(8453);const p={id:"proxy",title:"proxy"},i=void 0,c={},u=[];function a(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Abaixo um exemplo de uso de proxy no Python."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import requests\nfrom urllib3.exceptions import InsecureRequestWarning\n\n\n# suppress InsecureRequestWarning from urllib3\nrequests.packages.urllib3.disable_warnings(category=InsecureRequestWarning)\n\n# proxy list get from http://free-proxy.cz/en/proxylist/country/all/https/ping/all\nproxies_addr = ['38.107.226.197:3333',\n                '64.189.106.6:3129',\n                '66.94.108.138:3128']\n\nurl = 'https://api.ipify.org?format=json'\n\ndef proxy_request(url, proxy_addr, **kwargs):\n    try:\n        proxies = {\n            'http': f'http://{proxy_addr}',\n            'https': f'http://{proxy_addr}'\n        }\n        \n        response = requests.get(url, proxies=proxies, timeout=30, verify=False, **kwargs)\n        return response.content.decode()\n    \n    except (requests.exceptions.ConnectTimeout, requests.exceptions.ReadTimeout):\n        print(\"Timeout\")\n\n    except requests.exceptions.SSLError:\n        print(\"SSL Error\")\n\n    except requests.exceptions.ProxyError:\n        print(\"Proxy Error\")\n        \n    except KeyboardInterrupt:\n        exit(0)\n\n\nfor proxy_addr in proxies_addr:\n    ip = proxy_request(url, proxy_addr)\n    print(ip)\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>p,x:()=>i});var t=r(6540);const o={},s=t.createContext(o);function p(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:p(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);