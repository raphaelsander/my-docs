"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[475],{3398:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>l,frontMatter:()=>n,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"linux/user","title":"user","description":"Exibir Todos os Usu\xe1rios","source":"@site/docs/linux/user.mdx","sourceDirName":"linux","slug":"/linux/user","permalink":"/my-docs/docs/linux/user","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"user","title":"user"},"sidebar":"tutorialSidebar","previous":{"title":"touch","permalink":"/my-docs/docs/linux/touch"},"next":{"title":"whois","permalink":"/my-docs/docs/linux/whois"}}');var a=o(4848),r=o(8453);const n={id:"user",title:"user"},d=void 0,t={},u=[{value:"Exibir Todos os Usu\xe1rios",id:"exibir-todos-os-usu\xe1rios",level:2},{value:"Estrutura do Arquivo <code>/etc/shadow</code>",id:"estrutura-do-arquivo-etcshadow",level:2},{value:"Adicionar um Novo Usu\xe1rio",id:"adicionar-um-novo-usu\xe1rio",level:2},{value:"Remover um Usu\xe1rio",id:"remover-um-usu\xe1rio",level:2},{value:"Definir uma Senha para um Usu\xe1rio",id:"definir-uma-senha-para-um-usu\xe1rio",level:2},{value:"Entrar no Terminal como um Usu\xe1rio Espec\xedfico",id:"entrar-no-terminal-como-um-usu\xe1rio-espec\xedfico",level:2},{value:"Conceder Privil\xe9gios de Sudo (Administrativos)",id:"conceder-privil\xe9gios-de-sudo-administrativos",level:2},{value:"Revogar Privil\xe9gios de Sudo",id:"revogar-privil\xe9gios-de-sudo",level:2},{value:"Alterar as Configura\xe7\xf5es do Sudoers Manualmente",id:"alterar-as-configura\xe7\xf5es-do-sudoers-manualmente",level:2},{value:"Verificar Autentica\xe7\xf5es de Usu\xe1rio",id:"verificar-autentica\xe7\xf5es-de-usu\xe1rio",level:2}];function c(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h2,{id:"exibir-todos-os-usu\xe1rios",children:"Exibir Todos os Usu\xe1rios"}),"\n",(0,a.jsxs)(s.p,{children:["Para listar todos os usu\xe1rios no sistema, voc\xea pode usar o comando ",(0,a.jsx)(s.code,{children:"cat"})," para\nexibir o conte\xfado do arquivo ",(0,a.jsx)(s.code,{children:"/etc/passwd"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"cat /etc/passwd\n"})}),"\n",(0,a.jsxs)(s.admonition,{type:"info",children:[(0,a.jsx)(s.p,{children:"Este arquivo cont\xe9m informa\xe7\xf5es sobre todos os usu\xe1rios registrados no sistema,\nincluindo seus IDs de usu\xe1rio (UIDs), grupos prim\xe1rios, diret\xf3rios home e\ninforma\xe7\xf5es de shell."}),(0,a.jsx)(s.p,{children:"No passado, tamb\xe9m era utilizado para salvar as senhas."}),(0,a.jsxs)(s.p,{children:["Atualmente as senhas dos usu\xe1rios ficam em formato de hash no arquivo\n",(0,a.jsx)(s.code,{children:"/etc/shadow"})," e somente os usu\xe1rios com direito de ",(0,a.jsx)(s.code,{children:"sudoers"})," pode visualiza-lo."]})]}),"\n",(0,a.jsxs)(s.h2,{id:"estrutura-do-arquivo-etcshadow",children:["Estrutura do Arquivo ",(0,a.jsx)(s.code,{children:"/etc/shadow"})]}),"\n",(0,a.jsxs)(s.p,{children:["O arquivo ",(0,a.jsx)(s.code,{children:"/etc/shadow"})," \xe9 utilizando para armazenar as informa\xe7\xf5es sens\xedveis dos\nusu\xe1rios, j\xe1 que somente usu\xe1rios com permiss\xf5es de ",(0,a.jsx)(s.code,{children:"sudoers"})," podem\nvisualiza-lo. Dentre as informa\xe7\xf5es sens\xedveis o arquivo ",(0,a.jsx)(s.code,{children:"shadow"})," armazena a\nsenha do usu\xe1rio em formato de ",(0,a.jsx)(s.em,{children:"hash"}),". No exemplo abaixo, a maioria dos usu\xe1rio\nn\xe3o possuem senha, por\xe9m aqueles com maiores informa\xe7\xf5es, como exemplo o usu\xe1rio\n",(0,a.jsx)(s.code,{children:"kali"})," possui."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-hash",children:"uuidd:*:19683:0:99999:7:::\ntcpdump:*:19683:0:99999:7:::\nkali:$y$j9T$P4e5rDVu4IoZc9phsGnXr0$Bug5WTkDSra/pzgNbm7aFWTJAa1RSO5iI5msAaADYCC:19996:0:99999:7:30:3403031096:\nmysql:!:19931:0:99999:7:::\npostgres:*:19931:0:99999:7:::\nsshd:*:20015:0:99999:7:::\n"})}),"\n",(0,a.jsx)(s.p,{children:"Fazendo a decomposi\xe7\xe3o dessa linha em v\xe1rias partes temos:"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"kali"}),": ID do usu\xe1rio.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"$y$j9T$P4e5rDVu4IoZc9phsGnXr0$Bug5WTkDSra/pzgNbm7aFWTJAa1RSO5iI5msAaADYCC"}),":\nInforma\xe7\xf5es do algoritmo ",(0,a.jsx)(s.em,{children:"hash"})," e o pr\xf3prio ",(0,a.jsx)(s.em,{children:"hash"}),".",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"19996"}),'": \xdaltima altera\xe7\xe3o de senha em Unix time.',(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"0"}),": O n\xfamero m\xednimo de dias necess\xe1rios entre as altera\xe7\xf5es de senha.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"99999"}),": O n\xfamero m\xe1ximo de dias em que a senha \xe9 v\xe1lida.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"7"}),": O n\xfamero de dias antes da expira\xe7\xe3o da senha em que o usu\xe1rio \xe9 avisado de\nque sua senha deve ser alterada.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"30"}),": O n\xfamero de dias ap\xf3s a expira\xe7\xe3o da senha em que a conta \xe9 desativada.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.code,{children:"3403031096"}),": A data de expira\xe7\xe3o da conta em Unix time."]}),"\n",(0,a.jsxs)(s.p,{children:["No fragmento que representa as informa\xe7\xf5es do algor\xedtmo ",(0,a.jsx)(s.em,{children:"hash"})," e o pr\xf3prio\n",(0,a.jsx)(s.em,{children:"hash"}),", podemos identificar qual o algoritmo ",(0,a.jsx)(s.em,{children:"hash"})," seguindo a tabela abaixo:"]}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{style:{textAlign:"left"},children:"ID do Hash"}),(0,a.jsx)(s.th,{style:{textAlign:"left"},children:"Nome do Hash"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$1"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"MD5"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$2"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"Blowfish"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$2a"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"eksblowfish"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$5"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"SHA-256"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$6"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"SHA-512"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"$y"}),(0,a.jsx)(s.td,{style:{textAlign:"left"},children:"yescrypt"})]})]})]}),"\n",(0,a.jsxs)(s.admonition,{type:"info",children:[(0,a.jsxs)(s.p,{children:["Maiores detalhes com o comando ",(0,a.jsx)(s.code,{children:"man crypt"}),"."]}),(0,a.jsxs)(s.p,{children:["Para verificar como efetuar a quebra dos Hashs acima confira a documenta\xe7\xe3o do\n",(0,a.jsx)(s.a,{href:"/my-docs/docs/pentest/hashcat",children:"Hashcat"})," ou ",(0,a.jsx)(s.a,{href:"/my-docs/docs/pentest/john",children:"John the Ripper"}),"."]})]}),"\n",(0,a.jsx)(s.h2,{id:"adicionar-um-novo-usu\xe1rio",children:"Adicionar um Novo Usu\xe1rio"}),"\n",(0,a.jsxs)(s.p,{children:["Para adicionar um novo usu\xe1rio, utilize o comando ",(0,a.jsx)(s.code,{children:"adduser"})," seguido pelo nome do\nusu\xe1rio desejado. Este comando ir\xe1 criar um novo usu\xe1rio e configurar seu\nambiente inicial:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"adduser nomedousuario\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Siga as instru\xe7\xf5es apresentadas para definir uma senha e informa\xe7\xf5es adicionais,\nse necess\xe1rio."})}),"\n",(0,a.jsx)(s.h2,{id:"remover-um-usu\xe1rio",children:"Remover um Usu\xe1rio"}),"\n",(0,a.jsxs)(s.p,{children:["Para excluir um usu\xe1rio do sistema, utilize o comando ",(0,a.jsx)(s.code,{children:"deluser"})," seguido do nome\ndo usu\xe1rio que deseja remover:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"deluser nomedousuario\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Tenha cuidado ao executar este comando, pois a exclus\xe3o de um usu\xe1rio pode\nresultar na perda de dados associados a esse usu\xe1rio."})}),"\n",(0,a.jsx)(s.h2,{id:"definir-uma-senha-para-um-usu\xe1rio",children:"Definir uma Senha para um Usu\xe1rio"}),"\n",(0,a.jsxs)(s.p,{children:["Para definir ou modificar a senha de um usu\xe1rio, utilize o comando ",(0,a.jsx)(s.code,{children:"passwd"}),"\nseguido do nome do usu\xe1rio:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"passwd nomedousuario\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Siga as instru\xe7\xf5es para configurar a nova senha."})}),"\n",(0,a.jsx)(s.h2,{id:"entrar-no-terminal-como-um-usu\xe1rio-espec\xedfico",children:"Entrar no Terminal como um Usu\xe1rio Espec\xedfico"}),"\n",(0,a.jsxs)(s.p,{children:["Para entrar no terminal como um usu\xe1rio espec\xedfico, use o comando ",(0,a.jsx)(s.code,{children:"su"}),"\n(substituir usu\xe1rio) seguido do nome do usu\xe1rio:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"su nomedousuario\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Isso solicitar\xe1 a senha do usu\xe1rio, e voc\xea estar\xe1 logado como o usu\xe1rio\nespecificado."})}),"\n",(0,a.jsx)(s.h2,{id:"conceder-privil\xe9gios-de-sudo-administrativos",children:"Conceder Privil\xe9gios de Sudo (Administrativos)"}),"\n",(0,a.jsx)(s.p,{children:"Para conceder a um usu\xe1rio a capacidade de executar comandos como administrador,\nvoc\xea pode adicion\xe1-lo ao grupo sudo. Use o seguinte comando para fazer isso:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"adduser nomedousuario sudo\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsxs)(s.p,{children:["Isso permitir\xe1 que o usu\xe1rio execute comandos com privil\xe9gios administrativos\nusando o comando ",(0,a.jsx)(s.code,{children:"sudo"}),"."]})}),"\n",(0,a.jsx)(s.h2,{id:"revogar-privil\xe9gios-de-sudo",children:"Revogar Privil\xe9gios de Sudo"}),"\n",(0,a.jsx)(s.p,{children:"Se voc\xea precisar remover os privil\xe9gios de sudo de um usu\xe1rio, execute o\nseguinte comando:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"deluser nomedousuario sudo\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Isso remover\xe1 o usu\xe1rio do grupo sudo, limitando suas capacidades\nadministrativas."})}),"\n",(0,a.jsx)(s.h2,{id:"alterar-as-configura\xe7\xf5es-do-sudoers-manualmente",children:"Alterar as Configura\xe7\xf5es do Sudoers Manualmente"}),"\n",(0,a.jsxs)(s.p,{children:["Outra maneira de alterar se um usu\xe1rio tem privil\xe9gios de sudo ou n\xe3o \xe9 editando\nmanualmente o arquivo ",(0,a.jsx)(s.code,{children:"/etc/sudoers"}),". No entanto, essa abordagem \xe9 mais avan\xe7ada\ne requer cuidado para evitar erros de sintaxe."]}),"\n",(0,a.jsx)(s.h2,{id:"verificar-autentica\xe7\xf5es-de-usu\xe1rio",children:"Verificar Autentica\xe7\xf5es de Usu\xe1rio"}),"\n",(0,a.jsxs)(s.p,{children:["Para verificar as autentica\xe7\xf5es realizadas por cada usu\xe1rio no sistema, voc\xea\npode examinar o arquivo de log de autentica\xe7\xe3o, geralmente encontrado em\n",(0,a.jsx)(s.code,{children:"/var/log/auth.log"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"cat /var/log/auth.log\n"})}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"Este arquivo registra as tentativas de login e outros eventos de autentica\xe7\xe3o no\nsistema, fornecendo informa\xe7\xf5es \xfateis para monitorar a seguran\xe7a e a atividade\ndos usu\xe1rios. Certifique-se de ter permiss\xf5es adequadas para acessar este\narquivo."})}),"\n",(0,a.jsx)(s.admonition,{type:"caution",children:(0,a.jsx)(s.p,{children:"Lembre-se de que o gerenciamento de usu\xe1rios no Linux \xe9 uma tarefa cr\xedtica para\na seguran\xe7a e a administra\xe7\xe3o do sistema. Tome cuidado ao adicionar, remover ou\nmodificar usu\xe1rios e seus privil\xe9gios para garantir um ambiente de sistema\nseguro e funcional."})})]})}function l(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>n,x:()=>d});var i=o(6540);const a={},r=i.createContext(a);function n(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);